

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>zos_copy – Copy data to z/OS &mdash; IBM z/OS core collection 1.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/banner.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="zos_data_set – Manage data sets" href="zos_data_set.html" />
    <link rel="prev" title="Modules" href="../modules.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> IBM z/OS core collection
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../requirements-single.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../playbooks.html">Playbooks</a></li>
</ul>
<p class="caption"><span class="caption-text">Ansible Content</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../plugins.html">Plugins</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../modules.html">Modules</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">zos_copy – Copy data to z/OS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parameters">Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="#notes">Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#see-also">See Also</a></li>
<li class="toctree-l3"><a class="reference internal" href="#return-values">Return Values</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="zos_data_set.html">zos_data_set – Manage data sets</a></li>
<li class="toctree-l2"><a class="reference internal" href="zos_encode.html">zos_encode – Perform encoding operations.</a></li>
<li class="toctree-l2"><a class="reference internal" href="zos_fetch.html">zos_fetch – Fetch data from z/OS</a></li>
<li class="toctree-l2"><a class="reference internal" href="zos_job_output.html">zos_job_output – Display job output</a></li>
<li class="toctree-l2"><a class="reference internal" href="zos_job_query.html">zos_job_query – Query job status</a></li>
<li class="toctree-l2"><a class="reference internal" href="zos_job_submit.html">zos_job_submit – Submit JCL</a></li>
<li class="toctree-l2"><a class="reference internal" href="zos_lineinfile.html">zos_lineinfile – Manage textual data on z/OS</a></li>
<li class="toctree-l2"><a class="reference internal" href="zos_mvs_raw.html">zos_mvs_raw – Run a z/OS program.</a></li>
<li class="toctree-l2"><a class="reference internal" href="zos_operator.html">zos_operator – Execute operator command</a></li>
<li class="toctree-l2"><a class="reference internal" href="zos_operator_action_query.html">zos_operator_action_query – Display messages requiring action</a></li>
<li class="toctree-l2"><a class="reference internal" href="zos_ping.html">zos_ping – Ping z/OS and check dependencies.</a></li>
<li class="toctree-l2"><a class="reference internal" href="zos_tso_command.html">zos_tso_command – Execute TSO commands</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../filters.html">Filters</a></li>
</ul>
<p class="caption"><span class="caption-text">Release Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html">Releases</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../community_guides.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">IBM z/OS core collection</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../modules.html">Modules</a> &raquo;</li>
        
      <li>zos_copy – Copy data to z/OS</li>
    
    

  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  





<div class="section" id="zos-copy-copy-data-to-z-os">
<span id="zos-copy-module"></span><h1>zos_copy – Copy data to z/OS<a class="headerlink" href="#zos-copy-copy-data-to-z-os" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></p></li>
<li><p><a class="reference internal" href="#parameters" id="id2">Parameters</a></p></li>
<li><p><a class="reference internal" href="#examples" id="id3">Examples</a></p></li>
<li><p><a class="reference internal" href="#notes" id="id4">Notes</a></p></li>
<li><p><a class="reference internal" href="#see-also" id="id5">See Also</a></p></li>
<li><p><a class="reference internal" href="#return-values" id="id6">Return Values</a></p></li>
</ul>
</div>
<div class="section" id="synopsis">
<h2><a class="toc-backref" href="#id1">Synopsis</a><a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>The <a class="reference internal" href="#zos-copy-module"><span class="std std-ref">zos_copy</span></a> module copies a file or data set from a local or a remote machine to a location on the remote machine.</p></li>
<li><p>Use the <a class="reference internal" href="zos_fetch.html#zos-fetch-module"><span class="std std-ref">zos_fetch</span></a> module to copy files or data sets from remote locations to the local machine.</p></li>
</ul>
</div>
<div class="section" id="parameters">
<h2><a class="toc-backref" href="#id2">Parameters</a><a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h2>
<dl>
<dt>backup</dt><dd><p>Specifies whether a backup of destination should be created before copying data.</p>
<p>When set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, the module creates a backup file or data set.</p>
<p>The backup file name will be returned on either success or failure of module execution such that data can be retrieved.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: bool</div>
</div>
</dd>
<dt>backup_name</dt><dd><p>Specify a unique USS file name or data set name for the destination backup.</p>
<p>If the destination (dest) is a USS file or path, the backup_name must be a file or path name, and the USS path or file must be an absolute path name.</p>
<p>If the destination is an MVS data set, the backup_name must be an MVS data set name.</p>
<p>If the backup_name is not provided, the default backup_name will be used. If the destination is a USS file or USS path, the name of the backup file will be the destination file or path name appended with a timestamp, e.g. <code class="docutils literal notranslate"><span class="pre">/path/file_name.2020-04-23-08-32-29-bak.tar</span></code>.</p>
<p>If the destination is an MVS data set, it will be a data set with a random name generated by calling the ZOAU API. The MVS backup data set recovery can be done by renaming it.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">dest</span></code> is a data set member and <code class="docutils literal notranslate"><span class="pre">backup_name</span></code> is not provided, the data set member will be backed up to the same partitioned data set with a randomly generated member name.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>content</dt><dd><p>When used instead of <code class="docutils literal notranslate"><span class="pre">src</span></code>, sets the contents of a file or data set directly to the specified value.</p>
<p>Works only when <code class="docutils literal notranslate"><span class="pre">dest</span></code> is a USS file, sequential data set, or a partitioned data set member.</p>
<p>This is for simple values; for anything complex or with formatting, use <a class="reference external" href="https://docs.ansible.com/ansible/latest/modules/copy_module.html">https://docs.ansible.com/ansible/latest/modules/copy_module.html</a></p>
<p>If <code class="docutils literal notranslate"><span class="pre">dest</span></code> is a directory, then content will be copied to <code class="docutils literal notranslate"><span class="pre">/path/to/dest/inline_copy</span></code>.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>dest</dt><dd><p>Remote absolute path or data set where the file should be copied to.</p>
<p>Destination can be a USS path or an MVS data set name.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">dest</span></code> is a nonexistent USS file, it will be created.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">dest</span></code> is a nonexistent data set, it will be allocated.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">src</span></code> and <code class="docutils literal notranslate"><span class="pre">dest</span></code> are files and if the parent directory of <code class="docutils literal notranslate"><span class="pre">dest</span></code> does not exist, then the task will fail.</p>
<p>When the <code class="docutils literal notranslate"><span class="pre">dest</span></code> is an existing VSA:ref:<cite>KSDS &lt;KSDS_module&gt;</cite> or VSA:ref:<cite>ESDS &lt;ESDS_module&gt;</cite>, then source can be ESDS, KSDS or RRDS.</p>
<p>When the <code class="docutils literal notranslate"><span class="pre">dest</span></code> is an existing VSA:ref:<cite>RRDS &lt;RRDS_module&gt;</cite>, then the source must be RRDS.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">dest</span></code> is and existing VSA:ref:<cite>LDS &lt;LDS_module&gt;</cite>, then source must be LDS.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: True</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>encoding</dt><dd><p>Specifies which encodings the destination file or data set should be converted from and to.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">encoding</span></code> is not provided, the module determines which local and remote charsets to convert the data from and to. Note that this is only done for text data and not binary data.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">encoding</span></code> is provided and <code class="docutils literal notranslate"><span class="pre">src</span></code> is an MVS data set, task will fail.</p>
<p>Only valid if <code class="docutils literal notranslate"><span class="pre">is_binary</span></code> is false.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: dict</div>
</div>
<dl>
<dt>from</dt><dd><p>The encoding to be converted from</p>
<div class="line-block">
<div class="line"><strong>required</strong>: True</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>to</dt><dd><p>The encoding to be converted to</p>
<div class="line-block">
<div class="line"><strong>required</strong>: True</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
</dl>
</dd>
<dt>force</dt><dd><p>If set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, the remote file or data set will be overwritten.</p>
<p>If set to <code class="docutils literal notranslate"><span class="pre">false</span></code>, the file or data set will only be copied if the destination does not exist.</p>
<p>If set to <code class="docutils literal notranslate"><span class="pre">false</span></code> and destination exists, the module exits with a note to the user.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: bool</div>
</div>
</dd>
<dt>ignore_sftp_stderr</dt><dd><p>During data transfer through sftp, the module fails if the sftp command directs any content to stderr. The user is able to override this behavior by setting this parameter to <code class="docutils literal notranslate"><span class="pre">true</span></code>. By doing so, the module would essentially ignore the stderr stream produced by sftp and continue execution.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: bool</div>
</div>
</dd>
<dt>is_binary</dt><dd><p>If set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, indicates that the file or data set to be copied is a binary file/data set.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: bool</div>
</div>
</dd>
<dt>local_follow</dt><dd><p>This flag indicates that any existing filesystem links in the source tree should be followed.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: bool</div>
<div class="line"><strong>default</strong>: True</div>
</div>
</dd>
<dt>mode</dt><dd><p>The permission of the destination file or directory.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">dest</span></code> is USS, this will act as Unix file mode, otherwise ignored.</p>
<p>It should be noted that modes are octal numbers. The user must either add a leading zero so that Ansible’s YAML parser knows it is an octal number (like <code class="docutils literal notranslate"><span class="pre">0644</span></code> or <code class="docutils literal notranslate"><span class="pre">01777</span></code>)or quote it (like <code class="docutils literal notranslate"><span class="pre">'644'</span></code> or <code class="docutils literal notranslate"><span class="pre">'1777'</span></code>) so Ansible receives a string and can do its own conversion from string into number. Giving Ansible a number without following one of these rules will end up with a decimal number which will have unexpected results.</p>
<p>The mode may also be specified as a symbolic mode (for example, <code class="docutils literal notranslate"><span class="pre">u+rwx</span></code> or <code class="docutils literal notranslate"><span class="pre">u=rw,g=r,o=r</span></code>) or a special string <cite>preserve</cite>.</p>
<p><code class="docutils literal notranslate"><span class="pre">preserve</span></code> means that the file will be given the same permissions as the source file.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>model_ds</dt><dd><p>When copying a local file/directory to a non-existing PDS, PDSE or PS, specify a model data set to allocate the destination after.</p>
<p>If this parameter is not provided, the destination data set will be allocated based on the size of the local file/directory.</p>
<p>Only valid if <code class="docutils literal notranslate"><span class="pre">src</span></code> is a local file or directory and <code class="docutils literal notranslate"><span class="pre">dest</span></code> does not exist.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>remote_src</dt><dd><p>If set to <code class="docutils literal notranslate"><span class="pre">false</span></code>, the module searches for <code class="docutils literal notranslate"><span class="pre">src</span></code> at the local machine.</p>
<p>If set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, the module goes to the remote/target machine for <code class="docutils literal notranslate"><span class="pre">src</span></code>.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: bool</div>
</div>
</dd>
<dt>sftp_port</dt><dd><p>Indicates which port should be used to connect to the remote z/OS system to perform data transfer.</p>
<p>If this parameter is not specified, <code class="docutils literal notranslate"><span class="pre">ansible_port</span></code> will be used.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">ansible_port</span></code> is not specified, port 22 will be used.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: int</div>
</div>
</dd>
<dt>src</dt><dd><p>Absolute local path to a file to copy to the remote z/OS system.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">remote_src</span></code> is true, then src must be the absolute path to a UNIX System Services (USS) file, name of a data set, or data set member.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">src</span></code> is a directory, destination must be a partitioned data set or a USS directory.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">src</span></code> is a file and dest ends with “/” or destination is a directory, the file is copied to the directory with the same filename as src.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">src</span></code> is a VSAM data set, destination must also be a VSAM.</p>
<p>Wildcards can be used to copy multiple PDS/PDSE members to another PDS/PDSE.</p>
<p>Required unless using <code class="docutils literal notranslate"><span class="pre">content</span></code>.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>validate</dt><dd><p>Specifies whether to perform checksum validation for source and destination files.</p>
<p>Valid only for USS destination, otherwise ignored.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: bool</div>
</div>
</dd>
</dl>
</div>
<div class="section" id="examples">
<h2><a class="toc-backref" href="#id3">Examples</a><a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="highlight-yaml+jinja notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Copy a local file to a sequential data set</span>
  <span class="nt">zos_copy</span><span class="p">:</span>
    <span class="nt">src</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/path/to/sample_seq_data_set</span>
    <span class="nt">dest</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SAMPLE.SEQ.DATA.SET</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Copy a local file to a USS location and validate checksum</span>
  <span class="nt">zos_copy</span><span class="p">:</span>
    <span class="nt">src</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/path/to/test.log</span>
    <span class="nt">dest</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/tmp/test.log</span>
    <span class="nt">validate</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Copy a local ASCII encoded file and convert to IBM-1047</span>
  <span class="nt">zos_copy</span><span class="p">:</span>
    <span class="nt">src</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/path/to/file.txt</span>
    <span class="nt">dest</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/tmp/file.txt</span>
    <span class="nt">encoding</span><span class="p">:</span>
      <span class="nt">from</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ISO8859-1</span>
      <span class="nt">to</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">IBM-1047</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Copy a local directory to a PDSE</span>
  <span class="nt">zos_copy</span><span class="p">:</span>
    <span class="nt">src</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/path/to/local/dir/</span>
    <span class="nt">dest</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">HLQ.DEST.PDSE</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Copy file with permission details</span>
  <span class="nt">zos_copy</span><span class="p">:</span>
    <span class="nt">src</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/path/to/foo.conf</span>
    <span class="nt">dest</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/etc/foo.conf</span>
    <span class="nt">mode</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0644</span>
    <span class="nt">group</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">foo</span>
    <span class="nt">owner</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">bar</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Module will follow the symbolic link specified in src</span>
  <span class="nt">zos_copy</span><span class="p">:</span>
    <span class="nt">src</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/path/to/link</span>
    <span class="nt">dest</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/path/to/uss/location</span>
    <span class="nt">local_follow</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Copy a local file to a PDS member</span>
  <span class="nt">zos_copy</span><span class="p">:</span>
    <span class="nt">src</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/path/to/local/file</span>
    <span class="nt">dest</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">HLQ.SAMPLE.PDSE(MEMBER)</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Copy a VSAM(KSDS) to a VSAM(KSDS)</span>
  <span class="nt">zos_copy</span><span class="p">:</span>
    <span class="nt">src</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SAMPLE.SRC.VSAM</span>
    <span class="nt">dest</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SAMPLE.DEST.VSAM</span>
    <span class="nt">remote_src</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Copy inline content to a sequential dataset and replace existing data</span>
  <span class="nt">zos_copy</span><span class="p">:</span>
    <span class="nt">content</span><span class="p">:</span> <span class="s">&#39;Inline</span><span class="nv"> </span><span class="s">content</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">be</span><span class="nv"> </span><span class="s">copied&#39;</span>
    <span class="nt">dest</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SAMPLE.SEQ.DATA.SET</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Copy a USS file to sequential data set and convert encoding beforehand</span>
  <span class="nt">zos_copy</span><span class="p">:</span>
    <span class="nt">src</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/path/to/remote/uss/file</span>
    <span class="nt">dest</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SAMPLE.SEQ.DATA.SET</span>
    <span class="nt">remote_src</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
    <span class="nt">encoding</span><span class="p">:</span>
      <span class="nt">from</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ISO8859-1</span>
      <span class="nt">to</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">IBM-1047</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Copy a USS directory to another USS directory</span>
  <span class="nt">zos_copy</span><span class="p">:</span>
    <span class="nt">src</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/path/to/uss/dir</span>
    <span class="nt">dest</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/path/to/dest/dir</span>
    <span class="nt">remote_src</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Copy a local binary file to a PDSE member</span>
  <span class="nt">zos_copy</span><span class="p">:</span>
    <span class="nt">src</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/path/to/binary/file</span>
    <span class="nt">dest</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">HLQ.SAMPLE.PDSE(MEMBER)</span>
    <span class="nt">is_binary</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Copy a sequential data set to a PDS member</span>
  <span class="nt">zos_copy</span><span class="p">:</span>
    <span class="nt">src</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SAMPLE.SEQ.DATA.SET</span>
    <span class="nt">dest</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">HLQ.SAMPLE.PDSE(MEMBER)</span>
    <span class="nt">remote_src</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Copy a local file and take a backup of the existing file</span>
  <span class="nt">zos_copy</span><span class="p">:</span>
    <span class="nt">src</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/path/to/local/file</span>
    <span class="nt">dest</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/path/to/dest</span>
    <span class="nt">backup</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
    <span class="nt">backup_name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/tmp/local_file_backup</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Copy a PDS on remote system to a new PDS</span>
  <span class="nt">zos_copy</span><span class="p">:</span>
    <span class="nt">src</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">HLQ.SRC.PDS</span>
    <span class="nt">dest</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">HLQ.NEW.PDS</span>
    <span class="nt">remote_src</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Copy a PDS on remote system to a PDS, replacing the original</span>
  <span class="nt">zos_copy</span><span class="p">:</span>
    <span class="nt">src</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">HLQ.SAMPLE.PDSE</span>
    <span class="nt">dest</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">HLQ.EXISTING.PDSE</span>
    <span class="nt">remote_src</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Copy PDS member to a new PDS member. Replace if it already exists.</span>
  <span class="nt">zos_copy</span><span class="p">:</span>
    <span class="nt">src</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">HLQ.SAMPLE.PDSE(SRCMEM)</span>
    <span class="nt">dest</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">HLQ.NEW.PDSE(DESTMEM)</span>
    <span class="nt">remote_src</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Copy a USS file to a PDSE member. If PDSE does not exist, allocate it.</span>
  <span class="nt">zos_copy</span><span class="p">:</span>
    <span class="nt">src</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/path/to/uss/src</span>
    <span class="nt">dest</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">DEST.PDSE.DATA.SET(MEMBER)</span>
    <span class="nt">remote_src</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Copy a sequential data set to a USS file</span>
  <span class="nt">zos_copy</span><span class="p">:</span>
    <span class="nt">src</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SRC.SEQ.DATA.SET</span>
    <span class="nt">dest</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/tmp/</span>
    <span class="nt">remote_src</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Copy a PDSE member to USS file</span>
  <span class="nt">zos_copy</span><span class="p">:</span>
    <span class="nt">src</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SRC.PDSE(MEMBER)</span>
    <span class="nt">dest</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/tmp/member</span>
    <span class="nt">remote_src</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Copy a PDS to a USS directory (/tmp/SRC.PDS).</span>
  <span class="nt">zos_copy</span><span class="p">:</span>
    <span class="nt">src</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SRC.PDS</span>
    <span class="nt">dest</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/tmp</span>
    <span class="nt">remote_src</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Copy all members inside a PDS to another PDS</span>
  <span class="nt">zos_copy</span><span class="p">:</span>
    <span class="nt">src</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SOME.SRC.PDS(*)</span>
    <span class="nt">dest</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SOME.DEST.PDS</span>
    <span class="nt">remote_src</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Copy all members starting with &#39;ABC&#39; inside a PDS to another PDS</span>
  <span class="nt">zos_copy</span><span class="p">:</span>
    <span class="nt">src</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SOME.SRC.PDS(ABC*)</span>
    <span class="nt">dest</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">SOME.DEST.PDS</span>
    <span class="nt">remote_src</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</div>
</div>
<div class="section" id="notes">
<h2><a class="toc-backref" href="#id4">Notes</a><a class="headerlink" href="#notes" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Destination data sets are assumed to be in catalog. When trying to copy to an uncataloged data set, the module assumes that the data set does not exist and will create it.</p>
<p>Destination will be backed up if either <code class="docutils literal notranslate"><span class="pre">backup</span></code> is <code class="docutils literal notranslate"><span class="pre">true</span></code> or <code class="docutils literal notranslate"><span class="pre">backup_name</span></code> is provided. If <code class="docutils literal notranslate"><span class="pre">backup</span></code> is <code class="docutils literal notranslate"><span class="pre">false</span></code> but <code class="docutils literal notranslate"><span class="pre">backup_name</span></code> is provided, task will fail.</p>
<p>When copying local files or directories, temporary storage will be used on the remote z/OS system. The size of the temporary storage will correspond to the size of the file or directory being copied. Temporary files will always be deleted, regardless of success or failure of the copy task.</p>
<p>VSAM data sets can only be copied to other VSAM data sets.</p>
<p>For supported character sets used to encode data, refer to <a class="reference external" href="https://ansible-collections.github.io/ibm_zos_core/supplementary.html#encode">https://ansible-collections.github.io/ibm_zos_core/supplementary.html#encode</a></p>
</div>
</div>
<div class="section" id="see-also">
<h2><a class="toc-backref" href="#id5">See Also</a><a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="zos_fetch.html#zos-fetch-module"><span class="std std-ref">zos_fetch – Fetch data from z/OS</span></a></p></li>
<li><p><a class="reference internal" href="zos_data_set.html#zos-data-set-module"><span class="std std-ref">zos_data_set – Manage data sets</span></a></p></li>
</ul>
</div>
</div>
<div class="section" id="return-values">
<h2><a class="toc-backref" href="#id6">Return Values</a><a class="headerlink" href="#return-values" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><dl>
<dt>src</dt><dd><div class="line-block">
<div class="line">Source file or data set being copied.</div>
</div>
<div class="line-block">
<div class="line"><strong>returned</strong>: changed</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>sample</strong>: /path/to/source.log</div>
</div>
</dd>
<dt>dest</dt><dd><div class="line-block">
<div class="line">Destination file/path or data set name.</div>
</div>
<div class="line-block">
<div class="line"><strong>returned</strong>: success</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>sample</strong>: SAMPLE.SEQ.DATA.SET</div>
</div>
</dd>
<dt>checksum</dt><dd><div class="line-block">
<div class="line">SHA256 checksum of the file after running zos_copy.</div>
</div>
<div class="line-block">
<div class="line"><strong>returned</strong>: C(validate) is C(true) and if dest is USS</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>sample</strong>: 8d320d5f68b048fc97559d771ede68b37a71e8374d1d678d96dcfa2b2da7a64e</div>
</div>
</dd>
<dt>backup_name</dt><dd><div class="line-block">
<div class="line">Name of the backup file or data set that was created.</div>
</div>
<div class="line-block">
<div class="line"><strong>returned</strong>: if backup=true or backup_name=true</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>sample</strong>: <a class="reference external" href="mailto:/path/to/file&#46;txt&#46;2015-02-03&#37;&#52;&#48;04">/path/to/file<span>&#46;</span>txt<span>&#46;</span>2015-02-03<span>&#64;</span>04</a>:15~</div>
</div>
</dd>
<dt>gid</dt><dd><div class="line-block">
<div class="line">Group id of the file, after execution.</div>
</div>
<div class="line-block">
<div class="line"><strong>returned</strong>: success and if dest is USS</div>
<div class="line"><strong>type</strong>: int</div>
<div class="line"><strong>sample</strong>: 100</div>
</div>
</dd>
<dt>group</dt><dd><div class="line-block">
<div class="line">Group of the file, after execution.</div>
</div>
<div class="line-block">
<div class="line"><strong>returned</strong>: success and if dest is USS</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>sample</strong>: httpd</div>
</div>
</dd>
<dt>owner</dt><dd><div class="line-block">
<div class="line">Owner of the file, after execution.</div>
</div>
<div class="line-block">
<div class="line"><strong>returned</strong>: success and if dest is USS</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>sample</strong>: httpd</div>
</div>
</dd>
<dt>uid</dt><dd><div class="line-block">
<div class="line">Owner id of the file, after execution.</div>
</div>
<div class="line-block">
<div class="line"><strong>returned</strong>: success and if dest is USS</div>
<div class="line"><strong>type</strong>: int</div>
<div class="line"><strong>sample</strong>: 100</div>
</div>
</dd>
<dt>mode</dt><dd><div class="line-block">
<div class="line">Permissions of the target, after execution.</div>
</div>
<div class="line-block">
<div class="line"><strong>returned</strong>: success and if dest is USS</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>sample</strong>: 420</div>
</div>
</dd>
<dt>size</dt><dd><div class="line-block">
<div class="line">Size(in bytes) of the target, after execution.</div>
</div>
<div class="line-block">
<div class="line"><strong>returned</strong>: success and dest is USS</div>
<div class="line"><strong>type</strong>: int</div>
<div class="line"><strong>sample</strong>: 1220</div>
</div>
</dd>
<dt>state</dt><dd><div class="line-block">
<div class="line">State of the target, after execution.</div>
</div>
<div class="line-block">
<div class="line"><strong>returned</strong>: success and if dest is USS</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>sample</strong>: file</div>
</div>
</dd>
<dt>note</dt><dd><div class="line-block">
<div class="line">A note to the user after module terminates.</div>
</div>
<div class="line-block">
<div class="line"><strong>returned</strong>: C(force) is C(false) and dest exists</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>sample</strong>: No data was copied</div>
</div>
</dd>
<dt>msg</dt><dd><div class="line-block">
<div class="line">Failure message returned by the module.</div>
</div>
<div class="line-block">
<div class="line"><strong>returned</strong>: failure</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>sample</strong>: Error while gathering data set information</div>
</div>
</dd>
<dt>stdout</dt><dd><div class="line-block">
<div class="line">The stdout from a USS command or MVS command, if applicable.</div>
</div>
<div class="line-block">
<div class="line"><strong>returned</strong>: failure</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>sample</strong>: Copying local file /tmp/foo/src to remote path /tmp/foo/dest</div>
</div>
</dd>
<dt>stderr</dt><dd><div class="line-block">
<div class="line">The stderr of a USS command or MVS command, if applicable.</div>
</div>
<div class="line-block">
<div class="line"><strong>returned</strong>: failure</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>sample</strong>: No such file or directory “/tmp/foo”</div>
</div>
</dd>
<dt>stdout_lines</dt><dd><div class="line-block">
<div class="line">List of strings containing individual lines from stdout.</div>
</div>
<div class="line-block">
<div class="line"><strong>returned</strong>: failure</div>
<div class="line"><strong>type</strong>: list</div>
<div class="line"><strong>sample</strong>:</div>
</div>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s2">&quot;u</span><span class="se">\&quot;</span><span class="s2">Copying local file /tmp/foo/src to remote path /tmp/foo/dest..</span><span class="se">\&quot;</span><span class="s2">&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div></blockquote>
</dd>
<dt>stderr_lines</dt><dd><div class="line-block">
<div class="line">List of strings containing individual lines from stderr.</div>
</div>
<div class="line-block">
<div class="line"><strong>returned</strong>: failure</div>
<div class="line"><strong>type</strong>: list</div>
<div class="line"><strong>sample</strong>:</div>
</div>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[{</span><span class="s2">&quot;u</span><span class="se">\&quot;</span><span class="s2">FileNotFoundError&quot;</span><span class="p">:</span> <span class="s2">&quot;No such file or directory </span><span class="se">\u0027</span><span class="s2">/tmp/foo</span><span class="se">\u0027\&quot;</span><span class="s2">&quot;</span><span class="p">}]</span>
</pre></div>
</div>
</div></blockquote>
</dd>
<dt>rc</dt><dd><div class="line-block">
<div class="line">The return code of a USS or MVS command, if applicable.</div>
</div>
<div class="line-block">
<div class="line"><strong>returned</strong>: failure</div>
<div class="line"><strong>type</strong>: int</div>
<div class="line"><strong>sample</strong>: 8</div>
</div>
</dd>
<dt>cmd</dt><dd><div class="line-block">
<div class="line">The MVS command issued, if applicable.</div>
</div>
<div class="line-block">
<div class="line"><strong>returned</strong>: failure</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>sample</strong>: REPRO INDATASET(SAMPLE.DATA.SET) OUTDATASET(SAMPLE.DEST.DATA.SET)</div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="zos_data_set.html" class="btn btn-neutral float-right" title="zos_data_set – Manage data sets" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../modules.html" class="btn btn-neutral float-left" title="Modules" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, IBM

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: v1.2.1
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Tags</dt>
            <dd><a href="../v1.0.0/index.html">v1.0.0</a></dd>
            <dd><a href="../v1.1.0/index.html">v1.1.0</a></dd>
            <dd><a href="../v1.2.1/modules/zos_copy.html">v1.2.1</a></dd>
        </dl>
    </div>
</div>


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>