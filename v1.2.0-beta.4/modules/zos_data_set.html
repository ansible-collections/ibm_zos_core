

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>zos_data_set – Manage data sets &mdash; IBM z/OS core collection 1.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/banner.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="zos_encode – Perform encoding operations." href="zos_encode.html" />
    <link rel="prev" title="zos_copy – Copy data to z/OS" href="zos_copy.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> IBM z/OS core collection
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../requirements-single.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../playbooks-single.html">Playbooks</a></li>
</ul>
<p class="caption"><span class="caption-text">Ansible Content</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../plugins.html">Plugins</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../modules.html">Modules</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="zos_copy.html">zos_copy – Copy data to z/OS</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">zos_data_set – Manage data sets</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parameters">Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="#return-values">Return Values</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="zos_encode.html">zos_encode – Perform encoding operations.</a></li>
<li class="toctree-l2"><a class="reference internal" href="zos_fetch.html">zos_fetch – Fetch data from z/OS</a></li>
<li class="toctree-l2"><a class="reference internal" href="zos_job_output.html">zos_job_output – Display job output</a></li>
<li class="toctree-l2"><a class="reference internal" href="zos_job_query.html">zos_job_query – Query job status</a></li>
<li class="toctree-l2"><a class="reference internal" href="zos_job_submit.html">zos_job_submit – Submit JCL</a></li>
<li class="toctree-l2"><a class="reference internal" href="zos_lineinfile.html">zos_lineinfile – Manage textual data on z/OS</a></li>
<li class="toctree-l2"><a class="reference internal" href="zos_mvs_raw.html">zos_mvs_raw – Run a z/OS program.</a></li>
<li class="toctree-l2"><a class="reference internal" href="zos_operator.html">zos_operator – Execute operator command</a></li>
<li class="toctree-l2"><a class="reference internal" href="zos_operator_action_query.html">zos_operator_action_query – Display messages requiring action</a></li>
<li class="toctree-l2"><a class="reference internal" href="zos_ping.html">zos_ping – Ping z/OS and check dependencies.</a></li>
<li class="toctree-l2"><a class="reference internal" href="zos_tso_command.html">zos_tso_command – Execute TSO commands</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../filters.html">Filters</a></li>
</ul>
<p class="caption"><span class="caption-text">Release Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html">Releases</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../community_guides.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">IBM z/OS core collection</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../modules.html">Modules</a> &raquo;</li>
        
      <li>zos_data_set – Manage data sets</li>
    
    

  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  





<div class="section" id="zos-data-set-manage-data-sets">
<span id="zos-data-set-module"></span><h1>zos_data_set – Manage data sets<a class="headerlink" href="#zos-data-set-manage-data-sets" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></p></li>
<li><p><a class="reference internal" href="#parameters" id="id2">Parameters</a></p></li>
<li><p><a class="reference internal" href="#examples" id="id3">Examples</a></p></li>
<li><p><a class="reference internal" href="#return-values" id="id4">Return Values</a></p></li>
</ul>
</div>
<div class="section" id="synopsis">
<h2><a class="toc-backref" href="#id1">Synopsis</a><a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Create, delete and set attributes of data sets.</p></li>
<li><p>When forcing data set replacement, contents will not be preserved.</p></li>
</ul>
</div>
<div class="section" id="parameters">
<h2><a class="toc-backref" href="#id2">Parameters</a><a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h2>
<dl>
<dt>batch</dt><dd><p>Batch can be used to perform operations on multiple data sets in a single module call.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: list</div>
</div>
<dl>
<dt>block_size</dt><dd><p>The block size to use for the data set.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: int</div>
</div>
</dd>
<dt>directory_blocks</dt><dd><p>The number of directory blocks to allocate to the data set.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: int</div>
</div>
</dd>
<dt>key_length</dt><dd><p>The key length to use when creating a KSDS data set.</p>
<p><em>key_length</em> is required when <em>type=KSDS</em>.</p>
<p><em>key_length</em> should only be provided when <em>type=KSDS</em></p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: int</div>
</div>
</dd>
<dt>key_offset</dt><dd><p>The key offset to use when creating a KSDS data set.</p>
<p><em>key_offset</em> is required when <em>type=KSDS</em>.</p>
<p><em>key_offset</em> should only be provided when <em>type=KSDS</em></p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: int</div>
</div>
</dd>
<dt>name</dt><dd><p>The name of the data set being managed. (e.g <code class="docutils literal notranslate"><span class="pre">USER.TEST</span></code>)</p>
<p>If <em>name</em> is not provided, a randomized data set name will be generated with the HLQ matching the module-runners username.</p>
<p>Required if <em>type=MEMBER</em> or <em>state!=present</em></p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>record_format</dt><dd><p>The format of the data set. (e.g <code class="docutils literal notranslate"><span class="pre">FB</span></code>)</p>
<p>Choices are case-insensitive.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>default</strong>: FB</div>
<div class="line"><strong>choices</strong>: FB, VB, FBA, VBA, U</div>
</div>
</dd>
<dt>record_length</dt><dd><p>The length, in bytes, of each record in the data set.</p>
<p>For variable data sets, the length must include the 4-byte prefix area.</p>
<p>Defaults vary depending on format: If FB/FBA 80, if VB/VBA 137, if U 0.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: int</div>
</div>
</dd>
<dt>replace</dt><dd><p>When <em>replace=True</em>, and <em>state=present</em>, existing data set matching <em>name</em> will be replaced.</p>
<p>Replacement is performed by deleting the existing data set and creating a new data set with the same name and desired attributes. Since the existing data set will be deleted prior to creating the new data set, no data set will exist if creation of the new data set fails.</p>
<p>If <em>replace=True</em>, all data in the original data set will be lost.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: bool</div>
</div>
</dd>
<dt>sms_data_class</dt><dd><p>The data class for an SMS-managed dataset.</p>
<p>Optional for SMS-managed datasets that do not match an SMS-rule.</p>
<p>Not valid for datasets that are not SMS-managed.</p>
<p>Note that all non-linear VSAM datasets are SMS-managed.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>sms_management_class</dt><dd><p>The management class for an SMS-managed dataset.</p>
<p>Optional for SMS-managed datasets that do not match an SMS-rule.</p>
<p>Not valid for datasets that are not SMS-managed.</p>
<p>Note that all non-linear VSAM datasets are SMS-managed.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>sms_storage_class</dt><dd><p>The storage class for an SMS-managed dataset.</p>
<p>Required for SMS-managed datasets that do not match an SMS-rule.</p>
<p>Not valid for datasets that are not SMS-managed.</p>
<p>Note that all non-linear VSAM datasets are SMS-managed.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>space_primary</dt><dd><p>The amount of primary space to allocate for the dataset.</p>
<p>The unit of space used is set using <em>space_type</em>.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: int</div>
<div class="line"><strong>default</strong>: 5</div>
</div>
</dd>
<dt>space_secondary</dt><dd><p>The amount of secondary space to allocate for the dataset.</p>
<p>The unit of space used is set using <em>space_type</em>.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: int</div>
<div class="line"><strong>default</strong>: 3</div>
</div>
</dd>
<dt>space_type</dt><dd><p>The unit of measurement to use when defining primary and secondary space.</p>
<p>Valid units of size are <code class="docutils literal notranslate"><span class="pre">K</span></code>, <code class="docutils literal notranslate"><span class="pre">M</span></code>, <code class="docutils literal notranslate"><span class="pre">G</span></code>, <code class="docutils literal notranslate"><span class="pre">CYL</span></code>, and <code class="docutils literal notranslate"><span class="pre">TRK</span></code>.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>default</strong>: M</div>
<div class="line"><strong>choices</strong>: K, M, G, CYL, TRK</div>
</div>
</dd>
<dt>state</dt><dd><p>The final state desired for specified data set.</p>
<p>If <em>state=absent</em> and the data set does not exist on the managed node, no action taken, module completes successfully with <em>changed=False</em>.</p>
<p>If <em>state=absent</em> and the data set does exist on the managed node, remove the data set, module completes successfully with <em>changed=True</em>.</p>
<p>If <em>state=absent</em> and <em>volumes</em> is provided, and the data set is not found in the catalog, the module attempts to perform catalog using supplied <em>name</em> and <em>volumes</em>. If the attempt to catalog the data set catalog is successful, then the data set is removed. Module completes successfully with <em>changed=True</em>.</p>
<p>If <em>state=absent</em> and <em>volumes</em> is provided, and the data set is not found in the catalog, the module attempts to perform catalog using supplied <em>name</em> and <em>volumes</em>. If the attempt to catalog the data set catalog fails, then no action is taken. Module completes successfully with <em>changed=False</em>.</p>
<p>If <em>state=present</em> and the data set does not exist on the managed node, create and catalog the data set, module completes successfully with <em>changed=True</em>.</p>
<p>If <em>state=present</em> and <em>replace=True</em> and the data set is present on the managed node the existing data set is deleted, and a new data set is created and cataloged with the desired attributes, module completes successfully with <em>changed=True</em>.</p>
<p>If <em>state=present</em> and <em>replace=False</em> and the data set is present on the managed node, no action taken, module completes successfully with <em>changed=False</em>.</p>
<p>If <em>state=cataloged</em> and <em>volumes</em> is provided and the data set is already cataloged, no action taken, module completes successfully with <em>changed=False</em>.</p>
<p>If <em>state=cataloged</em> and <em>volumes</em> is provided and the data set is not cataloged, module attempts to perform catalog using supplied <em>name</em> and <em>volumes</em>. If the attempt to catalog the data set catalog is successful, module completes successfully with <em>changed=True</em>.</p>
<p>If <em>state=cataloged</em> and <em>volumes</em> is provided and the data set is not cataloged, module attempts to perform catalog using supplied <em>name</em> and <em>volumes</em>. If the attempt to catalog the data set catalog fails, returns failure with <em>changed=False</em>.</p>
<p>If <em>state=uncataloged</em> and the data set is not found, no action taken , module completes successfully with <em>changed=False</em>.</p>
<p>If <em>state=uncataloged</em> and the data set is found, the data set is uncataloged, module completes successfully with <em>changed=True</em>.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>default</strong>: present</div>
<div class="line"><strong>choices</strong>: present, absent, cataloged, uncataloged</div>
</div>
</dd>
<dt>type</dt><dd><p>The data set type to be used when creating a data set. (e.g <code class="docutils literal notranslate"><span class="pre">pdse</span></code>)</p>
<p><code class="docutils literal notranslate"><span class="pre">MEMBER</span></code> expects to be used with an existing partitioned data set.</p>
<p>Choices are case-insensitive.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>choices</strong>: KSDS, ESDS, RRDS, LDS, SEQ, PDS, PDSE, LIBRARY, BASIC, LARGE, MEMBER</div>
</div>
</dd>
<dt>volumes</dt><dd><p>If cataloging a data set, <em>volumes</em> specifies the name of the volume(s) where the data set is located.</p>
<p>If creating a data set, <em>volumes</em> specifies the volume(s) where the data set should be created.</p>
<p>If <em>volumes</em> is provided when <em>state=present</em>, and the data set is not found in the catalog, <a class="reference internal" href="#zos-data-set-module"><span class="std std-ref">zos_data_set</span></a> will check the volume table of contents to see if the data set exists. If the data set does exist, it will be cataloged.</p>
<p>If <em>volumes</em> is provided when <em>state=absent</em> and the data set is not found in the catalog, <a class="reference internal" href="#zos-data-set-module"><span class="std std-ref">zos_data_set</span></a> will check the volume table of contents to see if the data set exists. If the data set does exist, it will be cataloged and promptly removed from the system.</p>
<p><em>volumes</em> is required when <em>state=cataloged</em>.</p>
<p>Accepts a string when using a single volume and a list of strings when using multiple.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: raw</div>
</div>
</dd>
</dl>
</dd>
<dt>block_size</dt><dd><p>The block size to use for the data set.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: int</div>
</div>
</dd>
<dt>directory_blocks</dt><dd><p>The number of directory blocks to allocate to the data set.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: int</div>
</div>
</dd>
<dt>key_length</dt><dd><p>The key length to use when creating a KSDS data set.</p>
<p><em>key_length</em> is required when <em>type=KSDS</em>.</p>
<p><em>key_length</em> should only be provided when <em>type=KSDS</em></p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: int</div>
</div>
</dd>
<dt>key_offset</dt><dd><p>The key offset to use when creating a KSDS data set.</p>
<p><em>key_offset</em> is required when <em>type=KSDS</em>.</p>
<p><em>key_offset</em> should only be provided when <em>type=KSDS</em></p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: int</div>
</div>
</dd>
<dt>name</dt><dd><p>The name of the data set being managed. (e.g <code class="docutils literal notranslate"><span class="pre">USER.TEST</span></code>)</p>
<p>If <em>name</em> is not provided, a randomized data set name will be generated with the HLQ matching the module-runners username.</p>
<p>Required if <em>type=MEMBER</em> or <em>state!=present</em> and not using <em>batch</em>.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>record_format</dt><dd><p>The format of the data set. (e.g <code class="docutils literal notranslate"><span class="pre">FB</span></code>)</p>
<p>Choices are case-insensitive.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>default</strong>: FB</div>
<div class="line"><strong>choices</strong>: FB, VB, FBA, VBA, U</div>
</div>
</dd>
<dt>record_length</dt><dd><p>The length, in bytes, of each record in the data set.</p>
<p>For variable data sets, the length must include the 4-byte prefix area.</p>
<p>Defaults vary depending on format: If FB/FBA 80, if VB/VBA 137, if U 0.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: int</div>
</div>
</dd>
<dt>replace</dt><dd><p>When <em>replace=True</em>, and <em>state=present</em>, existing data set matching <em>name</em> will be replaced.</p>
<p>Replacement is performed by deleting the existing data set and creating a new data set with the same name and desired attributes. Since the existing data set will be deleted prior to creating the new data set, no data set will exist if creation of the new data set fails.</p>
<p>If <em>replace=True</em>, all data in the original data set will be lost.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: bool</div>
</div>
</dd>
<dt>sms_data_class</dt><dd><p>The data class for an SMS-managed dataset.</p>
<p>Optional for SMS-managed datasets that do not match an SMS-rule.</p>
<p>Not valid for datasets that are not SMS-managed.</p>
<p>Note that all non-linear VSAM datasets are SMS-managed.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>sms_management_class</dt><dd><p>The management class for an SMS-managed dataset.</p>
<p>Optional for SMS-managed datasets that do not match an SMS-rule.</p>
<p>Not valid for datasets that are not SMS-managed.</p>
<p>Note that all non-linear VSAM datasets are SMS-managed.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>sms_storage_class</dt><dd><p>The storage class for an SMS-managed dataset.</p>
<p>Required for SMS-managed datasets that do not match an SMS-rule.</p>
<p>Not valid for datasets that are not SMS-managed.</p>
<p>Note that all non-linear VSAM datasets are SMS-managed.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
</div>
</dd>
<dt>space_primary</dt><dd><p>The amount of primary space to allocate for the dataset.</p>
<p>The unit of space used is set using <em>space_type</em>.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: int</div>
<div class="line"><strong>default</strong>: 5</div>
</div>
</dd>
<dt>space_secondary</dt><dd><p>The amount of secondary space to allocate for the dataset.</p>
<p>The unit of space used is set using <em>space_type</em>.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: int</div>
<div class="line"><strong>default</strong>: 3</div>
</div>
</dd>
<dt>space_type</dt><dd><p>The unit of measurement to use when defining primary and secondary space.</p>
<p>Valid units of size are <code class="docutils literal notranslate"><span class="pre">K</span></code>, <code class="docutils literal notranslate"><span class="pre">M</span></code>, <code class="docutils literal notranslate"><span class="pre">G</span></code>, <code class="docutils literal notranslate"><span class="pre">CYL</span></code>, and <code class="docutils literal notranslate"><span class="pre">TRK</span></code>.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>default</strong>: M</div>
<div class="line"><strong>choices</strong>: K, M, G, CYL, TRK</div>
</div>
</dd>
<dt>state</dt><dd><p>The final state desired for specified data set.</p>
<p>If <em>state=absent</em> and the data set does not exist on the managed node, no action taken, module completes successfully with <em>changed=False</em>.</p>
<p>If <em>state=absent</em> and the data set does exist on the managed node, remove the data set, module completes successfully with <em>changed=True</em>.</p>
<p>If <em>state=absent</em> and <em>volumes</em> is provided, and the data set is not found in the catalog, the module attempts to perform catalog using supplied <em>name</em> and <em>volumes</em>. If the attempt to catalog the data set catalog is successful, then the data set is removed. Module completes successfully with <em>changed=True</em>.</p>
<p>If <em>state=absent</em> and <em>volumes</em> is provided, and the data set is not found in the catalog, the module attempts to perform catalog using supplied <em>name</em> and <em>volumes</em>. If the attempt to catalog the data set catalog fails, then no action is taken. Module completes successfully with <em>changed=False</em>.</p>
<p>If <em>state=present</em> and the data set does not exist on the managed node, create and catalog the data set, module completes successfully with <em>changed=True</em>.</p>
<p>If <em>state=present</em> and <em>replace=True</em> and the data set is present on the managed node the existing data set is deleted, and a new data set is created and cataloged with the desired attributes, module completes successfully with <em>changed=True</em>.</p>
<p>If <em>state=present</em> and <em>replace=False</em> and the data set is present on the managed node, no action taken, module completes successfully with <em>changed=False</em>.</p>
<p>If <em>state=cataloged</em> and <em>volumes</em> is provided and the data set is already cataloged, no action taken, module completes successfully with <em>changed=False</em>.</p>
<p>If <em>state=cataloged</em> and <em>volumes</em> is provided and the data set is not cataloged, module attempts to perform catalog using supplied <em>name</em> and <em>volumes</em>. If the attempt to catalog the data set catalog is successful, module completes successfully with <em>changed=True</em>.</p>
<p>If <em>state=cataloged</em> and <em>volumes</em> is provided and the data set is not cataloged, module attempts to perform catalog using supplied <em>name</em> and <em>volumes</em>. If the attempt to catalog the data set catalog fails, returns failure with <em>changed=False</em>.</p>
<p>If <em>state=uncataloged</em> and the data set is not found, no action taken , module completes successfully with <em>changed=False</em>.</p>
<p>If <em>state=uncataloged</em> and the data set is found, the data set is uncataloged, module completes successfully with <em>changed=True</em>.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>default</strong>: present</div>
<div class="line"><strong>choices</strong>: present, absent, cataloged, uncataloged</div>
</div>
</dd>
<dt>type</dt><dd><p>The data set type to be used when creating a data set. (e.g <code class="docutils literal notranslate"><span class="pre">pdse</span></code>)</p>
<p><code class="docutils literal notranslate"><span class="pre">MEMBER</span></code> expects to be used with an existing partitioned data set.</p>
<p>Choices are case-insensitive.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: str</div>
<div class="line"><strong>choices</strong>: KSDS, ESDS, RRDS, LDS, SEQ, PDS, PDSE, LIBRARY, BASIC, LARGE, MEMBER</div>
</div>
</dd>
<dt>volumes</dt><dd><p>If cataloging a data set, <em>volumes</em> specifies the name of the volume(s) where the data set is located.</p>
<p>If creating a data set, <em>volumes</em> specifies the volume(s) where the data set should be created.</p>
<p>If <em>volumes</em> is provided when <em>state=present</em>, and the data set is not found in the catalog, <a class="reference internal" href="#zos-data-set-module"><span class="std std-ref">zos_data_set</span></a> will check the volume table of contents to see if the data set exists. If the data set does exist, it will be cataloged.</p>
<p>If <em>volumes</em> is provided when <em>state=absent</em> and the data set is not found in the catalog, <a class="reference internal" href="#zos-data-set-module"><span class="std std-ref">zos_data_set</span></a> will check the volume table of contents to see if the data set exists. If the data set does exist, it will be cataloged and promptly removed from the system.</p>
<p><em>volumes</em> is required when <em>state=cataloged</em>.</p>
<p>Accepts a string when using a single volume and a list of strings when using multiple.</p>
<div class="line-block">
<div class="line"><strong>required</strong>: False</div>
<div class="line"><strong>type</strong>: raw</div>
</div>
</dd>
</dl>
</div>
<div class="section" id="examples">
<h2><a class="toc-backref" href="#id3">Examples</a><a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="highlight-yaml+jinja notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Create a sequential data set if it does not exist</span>
  <span class="nt">zos_data_set</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">someds.name.here</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">seq</span>
    <span class="nt">state</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">present</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Create a PDS data set if it does not exist</span>
  <span class="nt">zos_data_set</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">someds.name.here</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pds</span>
    <span class="nt">space_primary</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">5</span>
    <span class="nt">space_type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">M</span>
    <span class="nt">record_format</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">fba</span>
    <span class="nt">record_length</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">25</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Attempt to replace a data set if it exists</span>
  <span class="nt">zos_data_set</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">someds.name.here</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pds</span>
    <span class="nt">space_primary</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">5</span>
    <span class="nt">space_type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">M</span>
    <span class="nt">record_format</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">u</span>
    <span class="nt">record_length</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">25</span>
    <span class="nt">replace</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">yes</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Attempt to replace a data set if it exists. If not found in the catalog, check if it is available on volume 222222, and catalog if found.</span>
  <span class="nt">zos_data_set</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">someds.name.here</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pds</span>
    <span class="nt">space_primary</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">5</span>
    <span class="nt">space_type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">M</span>
    <span class="nt">record_format</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">u</span>
    <span class="nt">record_length</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">25</span>
    <span class="nt">volumes</span><span class="p">:</span> <span class="s">&quot;222222&quot;</span>
    <span class="nt">replace</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">yes</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Create an ESDS data set if it does not exist</span>
  <span class="nt">zos_data_set</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">someds.name.here</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">esds</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Create a KSDS data set if it does not exist</span>
  <span class="nt">zos_data_set</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">someds.name.here</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ksds</span>
    <span class="nt">key_length</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">8</span>
    <span class="nt">key_offset</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Create an RRDS data set with storage class MYDATA if it does not exist</span>
  <span class="nt">zos_data_set</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">someds.name.here</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">rrds</span>
    <span class="nt">sms_storage_class</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">mydata</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Delete a data set if it exists</span>
  <span class="nt">zos_data_set</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">someds.name.here</span>
    <span class="nt">state</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">absent</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Delete a data set if it exists. If data set not cataloged, check on volume 222222 for the data set, and then catalog and delete if found.</span>
  <span class="nt">zos_data_set</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">someds.name.here</span>
    <span class="nt">state</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">absent</span>
    <span class="nt">volumes</span><span class="p">:</span> <span class="s">&quot;222222&quot;</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Write a member to an existing PDS; replace if member exists</span>
  <span class="nt">zos_data_set</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">someds.name.here(mydata)</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">MEMBER</span>
    <span class="nt">replace</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">yes</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Write a member to an existing PDS; do not replace if member exists</span>
  <span class="nt">zos_data_set</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">someds.name.here(mydata)</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">MEMBER</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Remove a member from an existing PDS</span>
  <span class="nt">zos_data_set</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">someds.name.here(mydata)</span>
    <span class="nt">state</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">absent</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">MEMBER</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Create multiple partitioned data sets and add one or more members to each</span>
  <span class="nt">zos_data_set</span><span class="p">:</span>
    <span class="nt">batch</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span>  <span class="l l-Scalar l-Scalar-Plain">someds.name.here1</span>
        <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">PDS</span>
        <span class="nt">space_primary</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">5</span>
        <span class="nt">space_type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">M</span>
        <span class="nt">record_format</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">fb</span>
        <span class="nt">replace</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">yes</span>
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">someds.name.here1(member1)</span>
        <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">MEMBER</span>
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">someds.name.here2(member1)</span>
        <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">MEMBER</span>
        <span class="nt">replace</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">yes</span>
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">someds.name.here2(member2)</span>
        <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">MEMBER</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Catalog a data set present on volume 222222 if it is uncataloged.</span>
  <span class="nt">zos_data_set</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">someds.name.here</span>
    <span class="nt">state</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cataloged</span>
    <span class="nt">volumes</span><span class="p">:</span> <span class="s">&quot;222222&quot;</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Uncatalog a data set if it is cataloged.</span>
  <span class="nt">zos_data_set</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">someds.name.here</span>
    <span class="nt">state</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">uncataloged</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Create a data set on volumes 000000 and 222222 if it does not exist.</span>
  <span class="nt">zos_data_set</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">someds.name.here</span>
    <span class="nt">state</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">present</span>
    <span class="nt">volumes</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="s">&quot;000000&quot;</span>
      <span class="p p-Indicator">-</span> <span class="s">&quot;222222&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="return-values">
<h2><a class="toc-backref" href="#id4">Return Values</a><a class="headerlink" href="#return-values" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><dl>
<dt>names</dt><dd><div class="line-block">
<div class="line">The data set names, including temporary generated data set names, in the order provided to the module.</div>
</div>
<div class="line-block">
<div class="line"><strong>returned</strong>: always</div>
<div class="line"><strong>type</strong>: list</div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="zos_encode.html" class="btn btn-neutral float-right" title="zos_encode – Perform encoding operations." accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="zos_copy.html" class="btn btn-neutral float-left" title="zos_copy – Copy data to z/OS" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, IBM

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: v1.2.0-beta.4
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Tags</dt>
            <dd><a href="../../v1.0.0/modules/zos_data_set.html">v1.0.0</a></dd>
            <dd><a href="../../v1.1.0/modules/zos_data_set.html">v1.1.0</a></dd>
            <dd><a href="zos_data_set.html">v1.2.0-beta.4</a></dd>
        </dl>
    </div>
</div>


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>